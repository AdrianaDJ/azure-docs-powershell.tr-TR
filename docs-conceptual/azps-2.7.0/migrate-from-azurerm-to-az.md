---
title: Azure PowerShell betiklerini AzureRM'den Az'ye geçirme
description: Betikleri AzureRM modülünden yeni Az modülüne geçirmeye yönelik adımları ve araçları öğrenin.
author: sptramer
ms.author: sttramer
manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.date: 05/10/2019
ms.openlocfilehash: 02b39653ebb4aa0f74d2340a7be7b35e08d5e44d
ms.sourcegitcommit: 92722d603b60dc769660e7517da60110133d9959
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/24/2019
ms.locfileid: "71226482"
---
# <a name="migrate-azure-powershell-from-azurerm-to-az"></a><span data-ttu-id="f056e-103">Azure PowerShell'i AzureRM'den Az modülüne geçirme</span><span class="sxs-lookup"><span data-stu-id="f056e-103">Migrate Azure PowerShell from AzureRM to Az</span></span>

<span data-ttu-id="f056e-104">Az modülünün AzureRM ile özellik eşliği vardır ama daha kısa ve daha tutarlı cmdlet adları kullanır.</span><span class="sxs-lookup"><span data-stu-id="f056e-104">The Az module has feature parity with AzureRM, but uses shorter and more consistent cmdlet names.</span></span>
<span data-ttu-id="f056e-105">AzureRM cmdlet'leri için yazılmış betikler otomatik olarak yeni modülle çalışmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="f056e-105">Scripts written for the AzureRM cmdlets won't automatically work with the new module.</span></span> <span data-ttu-id="f056e-106">Geçişi kolaylaştırmak için, Az mevcut betiklerinizi AzureRM kullanarak çalıştırmanıza olanak tanıyan araçlar sunar.</span><span class="sxs-lookup"><span data-stu-id="f056e-106">To make the transition easier, Az offers tools to allow you to run your existing scripts using AzureRM.</span></span> <span data-ttu-id="f056e-107">Yeni bir komut kümesine geçmek hiçbir zaman rahat bir işlem olmamıştır, ama bu makale yeni modüle geçişi başlatmanıza yardımcı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f056e-107">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the new module.</span></span>

<span data-ttu-id="f056e-108">AzureRM ile Az arasında hataya neden olan değişikliklerin tam listesini görmek için bkz. [AzureRM'den AZ modülüne tüm değişiklikler](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="f056e-108">To see the full list of breaking changes between AzureRM and Az, see the [full changes from AzureRM to Az](migrate-az-1.0.0.md).</span></span>

## <a name="ensure-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="f056e-109">Mevcut betikleri en son AzureRM sürümüyle çalıştığından emin olun</span><span class="sxs-lookup"><span data-stu-id="f056e-109">Ensure existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="f056e-110">Geçiş adımlarını uygulamadan önce, sisteminizde hangi AzureRM sürümlerinin yüklü olduğunu denetleyin.</span><span class="sxs-lookup"><span data-stu-id="f056e-110">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span> <span data-ttu-id="f056e-111">Bunu yaparak betiklerin zaten en son sürümde çalıştığından emin olabilir ve AzureRM’nin hangi sürümlerinin kaldırılması gerektiğini anlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f056e-111">Doing so allows you to make sure scripts are already running on the latest release, and let you know which versions of AzureRM must be uninstalled.</span></span>

<span data-ttu-id="f056e-112">AzureRM’nin hangi sürümlerini yüklediğinizi denetlemek için şu komutu çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="f056e-112">To check which version(s) of AzureRM you have installed, run the command:</span></span>

```powershell-interactive
Get-InstalledModule -Name AzureRM -AllVersions
```

<span data-ttu-id="f056e-113">AzureRM'nin kullanılabilir __en son__ sürümü __6.13.1__'dir.</span><span class="sxs-lookup"><span data-stu-id="f056e-113">The __latest__ available release of AzureRM is __6.13.1__.</span></span> <span data-ttu-id="f056e-114">Sizde bu sürüm yüklü değilse, mevcut betiklerinizin Az modülüyle çalışabilmesi için burada ve [hataya neden olan değişiklikler listesinde](migrate-az-1.0.0.md) açıklananların ötesinde ek değişikler yapılması gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-114">If you don't have this version installed, your existing scripts may need additional modification to work with the Az module beyond what's described here and in the [breaking changes list](migrate-az-1.0.0.md).</span></span>

<span data-ttu-id="f056e-115">Betikleriniz AzureRM 6.13.1 ile çalışmıyorsa, bunları [AzureRM 5.x'ten 6.x'e geçiş kılavuzuna](/powershell/azure/azurerm/migration-guide.6.0.0) göre güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="f056e-115">If your scripts don't work with AzureRM 6.13.1, update them according to the [AzureRM 5.x to 6.x migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span>
<span data-ttu-id="f056e-116">AzureRM modülünün önceki bir sürümünü kullanıyorsanız, her büyük sürüm için geçiş kılavuzları sağlanır.</span><span class="sxs-lookup"><span data-stu-id="f056e-116">If you use an earlier version of the AzureRM module, there are migration guides available for each major version.</span></span>

## <a name="uninstall-azurerm"></a><span data-ttu-id="f056e-117">AzureRM'yi kaldırma</span><span class="sxs-lookup"><span data-stu-id="f056e-117">Uninstall AzureRM</span></span>

<span data-ttu-id="f056e-118">Az modülünün Windows için PowerShell 5.1 üzerindeki mevcut AzureRM yüklemelerinden herhangi biriyle uyumluluğu garanti edilmez.</span><span class="sxs-lookup"><span data-stu-id="f056e-118">The Az module is not guaranteed to be compatible with any existing AzureRM installs in PowerShell 5.1 for Windows.</span></span> <span data-ttu-id="f056e-119">Az modülünü yüklemeden önce [AzureRM'yi kaldırın](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span><span class="sxs-lookup"><span data-stu-id="f056e-119">Before you install the Az module, [uninstall AzureRM](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="f056e-120">Sisteminizden AzureRM modülünü kaldırmaya hazır değilseniz, onun yerine [PowerShell Core](/powershell/scripting/install/installing-powershell-core-on-windows) 6.x veya sonraki sürümleri için Az modülünü yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f056e-120">If you're not ready to remove the AzureRM module from your system, you can install the Az module for [PowerShell Core](/powershell/scripting/install/installing-powershell-core-on-windows) 6.x or later instead.</span></span> <span data-ttu-id="f056e-121">PowerShell Core ile Windows için PowerShell 5.1 farklı modül kitaplıklarını kullandığından hiçbir çakışma olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="f056e-121">PowerShell Core and PowerShell 5.1 for Windows use different module libraries, so there will be no conflicts.</span></span> <span data-ttu-id="f056e-122">PowerShell Core'da yine [diğer adları etkinleştirebilirsiniz](#enable-azurerm-compatibility-aliases).</span><span class="sxs-lookup"><span data-stu-id="f056e-122">You can still [enable aliases](#enable-azurerm-compatibility-aliases) in PowerShell Core.</span></span>

## <a name="install-the-azure-powershell-az-module"></a><span data-ttu-id="f056e-123">Azure PowerShell Az modülünü yükleme</span><span class="sxs-lookup"><span data-stu-id="f056e-123">Install the Azure PowerShell Az module</span></span>

<span data-ttu-id="f056e-124">İlk adım, platformunuza Az modülünü yüklemektir.</span><span class="sxs-lookup"><span data-stu-id="f056e-124">The first step is to install the Az module on your platform.</span></span> <span data-ttu-id="f056e-125">Az’yi yüklediğinizde AzureRM’yi kaldırmanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-125">When you install Az, it's recommended that you uninstall AzureRM.</span></span> <span data-ttu-id="f056e-126">Aşağıdaki adımlarda, mevcut betiklerinizi çalıştırmaya devam etmeyi ve eski cmdlet adlarıyla uyumluluğu sağlamayı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="f056e-126">In the following steps, you'll learn how to keep running your existing scripts and enable compatibility for old cmdlet names.</span></span>

<span data-ttu-id="f056e-127">Azure PowerShell Az modülünü yüklemek için [Az modülünü yükleme](install-az-ps.md) yönergelerini izleyin.</span><span class="sxs-lookup"><span data-stu-id="f056e-127">To install the Azure PowerShell Az module, follow the instructions in [Install the Az module](install-az-ps.md).</span></span>

> [!NOTE]
> <span data-ttu-id="f056e-128">Bu noktada, AzureRM'nin tüm sürümlerinin kaldırıldığından ve çakışmaya neden olmayacağından emin olmak için Az modülünde sağlanan [Uninstall-AzureRM](/powershell/module/az.accounts/uninstall-azurerm) cmdlet'ini çalıştırmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f056e-128">At this point, you might want to run the [Uninstall-AzureRM](/powershell/module/az.accounts/uninstall-azurerm) cmdlet provided in the Az module, just to make sure that all versions of AzureRM have been uninstalled and won't cause conflicts.</span></span>

## <a name="enable-azurerm-compatibility-aliases"></a><span data-ttu-id="f056e-129">AzureRM uyumluluk diğer adlarını etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="f056e-129">Enable AzureRM compatibility aliases</span></span>

<span data-ttu-id="f056e-130">AzureRM kaldırıldıktan ve betiklerinizin en son AzureRM sürümüyle çalıştığından emin olduktan sonra, sıra Az modülü için uyumluluk modunu etkinleştirmeye gelir.</span><span class="sxs-lookup"><span data-stu-id="f056e-130">With AzureRM uninstalled and your scripts working with the latest AzureRM version, the next step is to enable the compatibility mode for the Az module.</span></span> <span data-ttu-id="f056e-131">Uyumluluk şu komutla etkinleştirilir:</span><span class="sxs-lookup"><span data-stu-id="f056e-131">Compatibility is enabled with the command:</span></span>

```powershell-interactive
Enable-AzureRmAlias -Scope CurrentUser
```

<span data-ttu-id="f056e-132">Diğer adlar, Az modülü yüklendiğinde eski cmdlet adlarının kullanılabilmesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="f056e-132">Aliases enable the ability to use old cmdlet names with the Az module installed.</span></span> <span data-ttu-id="f056e-133">Bu diğer adlar, seçili kapsam için profile yazılır.</span><span class="sxs-lookup"><span data-stu-id="f056e-133">These aliases are written to the profile for the selected scope.</span></span> <span data-ttu-id="f056e-134">Profil yoksa, bir profil oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="f056e-134">If no profile exists, one is created.</span></span>
<span data-ttu-id="f056e-135">`CurrentUser` kapsamından daha geniş bir `-Scope` kullanırken, ilgili profil dosyasını oluşturmak veya güncelleştirmek için uygun izinler gerekir.</span><span class="sxs-lookup"><span data-stu-id="f056e-135">When using a `-Scope` broader than `CurrentUser`, the appropriate permissions are required to create or update the corresponding profile file.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f056e-136">__Yalnızca__ cmdlet adlarının diğer adları vardır; modül adlarının yoktur!</span><span class="sxs-lookup"><span data-stu-id="f056e-136">__Only__ cmdlet names are aliased - module names aren't!</span></span> <span data-ttu-id="f056e-137">`.psd1` içinde `#Requires`, `Import-Module` bağımlılık listelerini veya tam cmdlet adlarını kullanıyorsanız, bu noktada modül adlarıyla ilgili [hataya neden olan değişiklikler listesinde](migrate-az-1.0.0.md) belirtilen süreci izleyerek bunların geçişini yaptığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="f056e-137">If you're using `#Requires`, `Import-Module`, dependency lists in a `.psd1`, or fully-qualified cmdlet names, make sure that you migrate them at this point by following the process outlined in the [breaking changes list](migrate-az-1.0.0.md) regarding module names.</span></span>

> [!WARNING]
>
> <span data-ttu-id="f056e-138">Bu komut için farklı bir `-Scope` kullanabilirsiniz, ama bunu yapmanız önerilmez.</span><span class="sxs-lookup"><span data-stu-id="f056e-138">You can use a different `-Scope` for this command, but it's not recommended.</span></span> <span data-ttu-id="f056e-139">Diğer adlar seçili kapsam için kullanıcı profiline yazılır, dolayısıyla bunları olabildiğince kısıtlı bir kapsamda etkinleştirilmiş durumda tutun.</span><span class="sxs-lookup"><span data-stu-id="f056e-139">Aliases are written to the user profile for the selected scope, so keep enabling them to as limited a scope as possible.</span></span> <span data-ttu-id="f056e-140">Diğer adların sistem genelinde etkinleştirilmesi, kendi yerel kapsamlarında AzureRM’yi yüklemiş olan diğer kullanıcılarda sorunlara yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-140">Enabling aliases system-wide can cause issues for other users who have AzureRM installed in their local scope.</span></span>

<span data-ttu-id="f056e-141">Diğer ad modu etkinleştirildikten sonra, hala beklendiği gibi çalıştıklarını doğrulamak için betiklerinizi bir kez daha çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="f056e-141">Once the alias mode is enabled, run your scripts again to confirm that they still function as expected.</span></span>
<span data-ttu-id="f056e-142">Az modülünde bazı parametre adları değiştirilmiş, eklenmiş veya gerekli hale getirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="f056e-142">Some parameter names have been changed, added, or made required by the Az module.</span></span> <span data-ttu-id="f056e-143">Cmdlet'lerin çıkış türleri de değiştirilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-143">Output types of cmdlets may have changed as well.</span></span> <span data-ttu-id="f056e-144">Bu değişiklikler [hataya neden olan değişiklikler listesinde](migrate-az-1.0.0.md) ayrıntılı olarak açıklanır.</span><span class="sxs-lookup"><span data-stu-id="f056e-144">These changes are detailed in the [breaking changes list](migrate-az-1.0.0.md).</span></span>

## <a name="update-cmdlets-modules-and-parameters"></a><span data-ttu-id="f056e-145">Cmdlet'leri, modülleri ve parametreleri güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="f056e-145">Update cmdlets, modules, and parameters</span></span>

<span data-ttu-id="f056e-146">Güncelleştirilen ve diğer adlarla çalıştırılan betiklerle, zaman ayırıp bunları yeni cmdlet'leri kullanacak şekilde güncelleştirebilir ve yeni özellikler gibi diğer değişikliklerden de yararlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f056e-146">With scripts updated and running under aliases, you can take your time to update them to use the new cmdlets and take advantage of other changes like new features.</span></span> <span data-ttu-id="f056e-147">Betiklerin çoğunda, [Az modülündeki yeni cmdlet adlandırma düzenine uyarak](migrate-az-1.0.0.md#cmdlet-noun-prefix-changes) cmdlet adlarını güncelleştirmeniz yeterli olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f056e-147">For most scripts, you will only need to update cmdlet names, [following the new cmdlet naming scheme in Az](migrate-az-1.0.0.md#cmdlet-noun-prefix-changes).</span></span> <span data-ttu-id="f056e-148">Betiklerinizin ne yaptığına ve hangi Azure PowerShell özelliklerinden yararlandığına bağlı olarak, betiklerin çalışmasını sağlamak için yapmanız gereken başka bazı değişiklikler olabilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-148">There may also be some other changes that you need to make in order to have your scripts work, depending on what they do and which Azure PowerShell features they take advantage of.</span></span>

<span data-ttu-id="f056e-149">Örneğin [Blob Depolama cmdlet'leri](migrate-az-1.0.0.md#azstorage-previously-azurestorage-and-azurermstorage) yeni zaman uyumsuz modeli kullanacak şekilde tümüyle yeniden tasarlanmıştır; dolayısıyla bunların kullanıldığı betiklerin güncelleştirilmesi, yalnızca cmdlet adlarında uygun değişikliklerin yapılmasından çok daha fazla çalışma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="f056e-149">For example, the [Blob Storage cmdlets](migrate-az-1.0.0.md#azstorage-previously-azurestorage-and-azurermstorage) have been completely reworked to use a new asynchronous model, so scripts using them will take more work to update than those where the only relevant changes were cmdlet names.</span></span>

<span data-ttu-id="f056e-150">Bu noktaya kadar betiklerinizde yalnızca küçük, basit değişiklikler yapmış olsanız veya diğer adlar etkinleştirildiğinde ek değişikliğe gerek kalmadan bu betikler çalışıyor olsa bile, siz cmdlet adlarını değiştirdikten ve diğer adları geçersiz kıldıktan sonra ortadan kalkacak 'saydam' diğer ad davranışlarına bağımlı olmadıklarından emin olmak için [Az 1.0.0'deki hataya neden olan değişikliklerin tam listesini](migrate-az-1.0.0.md) okuyun.</span><span class="sxs-lookup"><span data-stu-id="f056e-150">Even if you've only had to make small, simple changes to your scripts up to this point - or they even work without additional modification when aliases are enabled -  read the [full list of breaking changes in Az 1.0.0](migrate-az-1.0.0.md) to make sure that you're not relying on 'transparent' behavior of aliases which could disappear after you change cmdlet names and disable aliases.</span></span>

## <a name="disable-aliases"></a><span data-ttu-id="f056e-151">Diğer adları devre dışı bırakma</span><span class="sxs-lookup"><span data-stu-id="f056e-151">Disable aliases</span></span>

<span data-ttu-id="f056e-152">Geçişinizi tamamladıktan ve diğer ad davranışlarına güvenerek çalışmayı bıraktıktan sonra, diğer adları devre dışı bırakmanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-152">Once you've completed your migration and are no longer relying on aliasing behavior, it's recommended that you disable aliases.</span></span> <span data-ttu-id="f056e-153">Bu işlem [Disable-AzureRmAlias](/powershell/module/az.accounts/disable-azurermalias) cmdlet'iyle yapılır.</span><span class="sxs-lookup"><span data-stu-id="f056e-153">This is done with the [Disable-AzureRmAlias](/powershell/module/az.accounts/disable-azurermalias) cmdlet.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f056e-154">Bu cmdlet'i çalıştırırken, `Enable-AzureRmAlias` cmdlet'inin çağrıldığı her `-Scope` için çağırdığınızdan __emin olun__; aksi takdirde sisteminizde diğer ad davranışına bağımlı betikler kalabilir.</span><span class="sxs-lookup"><span data-stu-id="f056e-154">When running this cmdlet, __make sure__ that you invoke it for each `-Scope` that `Enable-AzureRmAlias` was invoked for, otherwise there may still be scripts on your system relying on the aliasing behavior.</span></span>
